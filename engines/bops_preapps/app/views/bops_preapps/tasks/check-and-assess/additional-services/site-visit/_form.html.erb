<%# locals: (form:) %>
<div id="new-site-visit-form">
  <div class="govuk-form-group">
    <%= form.govuk_date_field(:visited_on, legend: {text: "Date of site visit", size: "s"}) %>
    <%= content_tag :div, data: {
          controller: "address-search",
          address_search_url: main_app.os_places_api_index_path,
          address_search_id: "address",
          address_search_default_address_value: form.object.address
        } do %>

      <%= form.hidden_field :address, id: "address-hidden-field" %>
      <%= form.govuk_label(:address, text: "Search for address", size: "s") %>
      <span id="address-hint" class="govuk-hint">Start typing address or postcode</span>
      <div id="address-container" class="govuk-!-margin-top-2"></div>
    <% end %>
  </div>

  <%= form.govuk_file_field :documents,
        label: {size: "s", text: t(".upload_photos")},
        accept: acceptable_file_mime_types,
        multiple: true %>

  <%= form.govuk_text_area(:comments, rows: 6, label: {text: "Comments", size: "s"}) %>

  <div class="govuk-button-group govuk-!-margin-bottom-0">
    <%= form.govuk_task_button "Add site visit", action: "add_site_visit", secondary: true %>
  </div>
</div>
