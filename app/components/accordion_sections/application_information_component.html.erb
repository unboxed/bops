<% if show_edit_link %>
  <%= govuk_link_to t(".edit_details"), edit_planning_application_path(planning_application), class: "govuk-body" %>
<% end %>

<hr>

<%= govuk_summary_list do |list| %>
  <% list.with_row do |row|
       row.with_key { t(".description") }
       row.with_value { render(FormattedContentComponent.new(text: planning_application.description)) }
     end %>

  <% list.with_row do |row|
       row.with_key { t(".type_description") }
       row.with_value { type_description }
     end %>

  <% if planning_application.pre_application? %>
    <% %i[service_type requested_services].each do |attribute| %>
      <% list.with_row do |row|
           row.with_key { t(".#{attribute}") }
           row.with_value { send(attribute) }
         end %>
    <% end %>
  <% end %>

  <% %i[full_address location].each do |attribute| %>
    <% list.with_row do |row|
         row.with_key { t(".#{attribute}") }
         row.with_value { send(attribute) }
       end %>
  <% end %>

  <% if planning_application.parish_name.present? %>
    <% list.with_row do |row|
         row.with_key { t(".parish") }
         row.with_value { parish_name }
       end %>
  <% end %>

  <% %i[
       ward
       case_officer
       ward_type
       uprn
       work_already_started
       payment_reference
       payment_amount
       alternative_reference
       session_id
     ].each do |attribute| %>
    <% list.with_row do |row|
         row.with_key { t(".#{attribute}") }
         row.with_value { send(attribute) }
       end %>
  <% end %>
<% end %>
