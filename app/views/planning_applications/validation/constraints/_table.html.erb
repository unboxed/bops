<%= tag.table(class: ["govuk-table", "constraints-table"]) do %>
  <thead class="govuk-table__head">
    <tr class="govuk-table__row">
      <th scope="col" class="govuk-table__header">
        Category
      </th>
      <th scope="col" class="govuk-table__header">
        Constraint
      </th>
      <% if show_source %>
        <th scope="col" class="govuk-table__header">
          Source
        </th>
      <% end %>
      <th scope="col" class="govuk-table__header govuk-table__header--numeric">
        Action
      </th>
    </tr>
  </thead>

  <tbody class="govuk-table__body">
    <% planning_application_constraints.each do |planning_application_constraint| %>
    <%= render(
        partial: "row",
        locals: {
          planning_application_constraint: planning_application_constraint,
          show_source: show_source
        }
      ) %>
    <% end %>
  </tbody>
<% end %>
