<% content_for :page_title do %>
  Edit requirement - <%= t("page_title") %>
<% end %>

<%= render "shared/assessment_task_breadcrumbs", planning_application: @planning_application %>

<% content_for :title, "Edit requirement" %>

<%= render "shared/proposal_header", heading: "Edit requirement" %>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <hr class="govuk-section-break govuk-section-break--l govuk-section-break--visible">

    <h2>
      <%= @requirement.description %>
    </h2>

    <%= form_with model: @requirement, scope: "requirement", url: planning_application_assessment_requirement_path(@planning_application, @requirement, redirect_to: params[:redirect_to]), method: :patch do |form| %>
      <%= form.govuk_text_field :url,
            label: {text: "Guidelines URL"},
            placeholder: "No URL provided" %>

      <%= form.govuk_text_area :guidelines,
            label: {text: "Guidelines"},
            hint: {text: "Change guidance for this application only"} %>

      <%= form.govuk_submit("Save") do %>
        <%= govuk_button_link_to t("back"), params[:redirect_to].presence || planning_application_assessment_requirements_path(@planning_application), secondary: true %>
      <% end %>
    <% end %>
  </div>
</div>
