<% base_id = "assessment-information-tasks" %>
<% list_id = local_assigns[:id_prefix].present? ? "#{local_assigns[:id_prefix]}-#{base_id}" : base_id %>

<li id="<%= list_id %>">
  <h2 class="app-task-list__section">
    Assessment summaries
  </h2>

  <ul class="app-task-list__items">
    <% @planning_application.application_type.assessor_remarks.each do |category| %>
      <%= render(
            TaskListItems::Assessment::AssessmentDetailComponent.new(
              planning_application: @planning_application,
              category:
            )
          ) %>
    <% end %>

    <% if @planning_application.pre_application? %>
      <%= render(
            TaskListItems::Assessment::ConsiderationsComponent.new(
              planning_application: @planning_application,
              link_text: "Planning considerations and advice",
              link_path: planning_application_assessment_consideration_guidances_path(@planning_application)
            )
          ) %>
    <% end %>

    <% if @planning_application.site_visits? && !@planning_application.pre_application? %>
      <%= render(
            TaskListItems::Assessment::SiteVisitComponent.new(
              planning_application: @planning_application
            )
          ) %>
    <% end %>
  </ul>
</li>
